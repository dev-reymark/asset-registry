import{r as o,j as e,$ as x,V as y,S as C}from"./app-DcA1Ya5n.js";import{A as b}from"./Authenticated-CLbR4XAu.js";import{s as u}from"./index-DYc8GT79.js";import{C as A}from"./index-CI5qvykm.js";import{p as P}from"./chunk-YHY32LNM-eJcl_JAS.js";import{b as m}from"./chunk-KCYYJJH4-BJsl7Des.js";import{t as g,a as w,b as t,c as O,d as _,e as a}from"./chunk-F3UDT23P-CZ-s9wDQ.js";import{i as v}from"./chunk-5CAICSBD-DejQdHXG.js";import"./index-0-18Hqup.js";import"./index-CokAva9Y.js";import"./index-gG7cdACS.js";import"./chunk-SLABUSGS-DvehVeir.js";import"./index-BSEFKlKf.js";import"./LiveAnnouncer-DM9XYwof.js";function q({employees:h}){const[l,p]=o.useState(""),[i,n]=o.useState(1),c=10,d=o.useMemo(()=>h.filter(s=>s.EMPLOYEENAME.toLowerCase().includes(l.toLowerCase())).sort((s,r)=>s.EMPLOYEENAME.localeCompare(r.EMPLOYEENAME)),[h,l]),f=Math.ceil(d.length/c),j=o.useMemo(()=>{const s=(i-1)*c,r=s+c;return d.slice(s,r)},[d,i]),N=async s=>{try{await y.promise(axios.post(u("employees.restore",{employee:s}),{_method:"PATCH"}),{loading:"Restoring employee...",success:e.jsx("b",{children:"Employee restored successfully!"}),error:e.jsx("b",{children:"Failed to restore employee."})}),C.reload()}catch(r){console.error("Error restoring employee:",r)}},M=()=>{p(""),n(1)};return e.jsx(b,{children:e.jsxs("div",{className:"container mt-4",children:[e.jsx("div",{className:"my-6",children:e.jsx(m,{color:"primary",variant:"flat",as:x,href:u("employees.index"),children:"â† Back to Employees"})}),e.jsxs(g,{isStriped:!0,"aria-label":"Archived Employees",topContent:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Archived Employees"}),e.jsx(v,{isClearable:!0,value:l,onClear:M,className:"w-full sm:max-w-[44%]",placeholder:"Search by name...",startContent:e.jsx(A,{className:"size-5"}),onChange:s=>{p(s.target.value),n(1)}})]}),bottomContent:e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(P,{isCompact:!0,showControls:!0,showShadow:!0,color:"secondary",page:i,total:f,onChange:s=>n(s)})}),classNames:{wrapper:"min-h-[222px]"},children:[e.jsxs(w,{children:[e.jsx(t,{children:"EMPLOYEE ID"}),e.jsx(t,{children:"EMPLOYEE NAME"}),e.jsx(t,{children:"DEPARTMENT"}),e.jsx(t,{children:"LOCATION"}),e.jsx(t,{children:"ACTIONS"})]}),e.jsx(O,{emptyContent:"No archived employees found.",children:j.map(s=>{var r,E;return e.jsxs(_,{children:[e.jsx(a,{children:s.EMPLOYEEID}),e.jsx(a,{children:s.EMPLOYEENAME}),e.jsx(a,{children:((r=s.department)==null?void 0:r.DEPARTMENTNAME)||"--"}),e.jsx(a,{children:((E=s.location)==null?void 0:E.LOCATIONNAME)||"--"}),e.jsxs(a,{className:"flex gap-2",children:[e.jsx(m,{color:"primary",variant:"flat",size:"sm",as:x,href:`/assets/${s.EMPNO}`,children:"View Assets"}),e.jsx(m,{color:"warning",variant:"flat",size:"sm",onPress:()=>N(s.EMPNO),children:"Restore"})]})]},s.EMPNO)})})]})]})})}export{q as default};
