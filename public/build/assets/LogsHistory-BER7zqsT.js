import{t as E,d as F,j as e,aa as H,ab as O,M as z,f as U,F as J,b as W,g as C,D as q,e as G,bu as K,x as Q,y as X,u as Y,r as S,z as Z,p as w,k as ee,R as ae,L as te,bw as re,S as se}from"./app-saVGxy0N.js";import{A as ne}from"./Authenticated-CLgtXvLV.js";import{s as I}from"./index-Deap-KAG.js";import{$ as oe,b as ie}from"./chunk-KCYYJJH4-CeHUtcLz.js";import{t as le,a as ce,b as p,c as de,d as ue,e as P}from"./chunk-F3UDT23P-PsOtj-UJ.js";import{p as fe}from"./chunk-YHY32LNM-BD9fFv5f.js";import"./index-Md4x98hW.js";import"./chunk-SLABUSGS-C7slVeCE.js";import"./index-CbkUlBYI.js";import"./LiveAnnouncer-Fq7BA-qR.js";import"./index-CokAva9Y.js";var T=E({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...F],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),pe="flex mx-1 text-current self-center",he=a=>e.jsxs("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...a,children:[e.jsx("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),e.jsx("path",{d:"M15 3h6v6"}),e.jsx("path",{d:"M10 14L21 3"})]});function be(a,n){let{elementType:o="a",onPress:i,onPressStart:d,onPressEnd:u,onClick:r,role:s,isDisabled:l,type:b,...v}=a,x={};o!=="a"&&(x={role:"link",tabIndex:l?void 0:0});let m=H()||O();r&&typeof r=="function"&&b!=="button"&&s!=="button"&&z("onClick is deprecated, please use onPress instead. See: https://github.com/heroui-inc/heroui/issues/4292","useLink");const k=t=>{m&&(r==null||r(t)),i==null||i(t)};let{focusableProps:j}=U(a,n),{pressProps:f,isPressed:y}=J({onPress:k,onPressStart:d,onPressEnd:u,isDisabled:l,ref:n}),$=W(v,{labelable:!0,isLink:o==="a"}),_=C(j,f),g=q(),c=G(a);return{isPressed:y,linkProps:C($,c,{..._,...x,"aria-disabled":l||void 0,"aria-current":a["aria-current"],onClick:t=>{var h;(h=f.onClick)==null||h.call(f,t),!m&&r&&r(t),!g.isNative&&t.currentTarget instanceof HTMLAnchorElement&&t.currentTarget.href&&!t.isDefaultPrevented()&&K(t.currentTarget,t)&&a.href&&(t.preventDefault(),g.open(t.currentTarget,t,a.href,a.routerOptions))}})}}function xe(a){var n,o,i,d;const u=Q(),[r,s]=X(a,T.variantKeys),{ref:l,as:b,children:v,anchorIcon:x,isExternal:m=!1,showAnchorIcon:k=!1,autoFocus:j=!1,className:f,onPress:y,onPressStart:$,onPressEnd:_,onClick:g,...c}=r,t=b||"a",h=Y(l),L=(o=(n=a==null?void 0:a.disableAnimation)!=null?n:u==null?void 0:u.disableAnimation)!=null?o:!1,{linkProps:A}=be({...c,onPress:y,onPressStart:$,onPressEnd:_,onClick:g,isDisabled:a.isDisabled,elementType:`${b}`},h),{isFocused:D,isFocusVisible:N,focusProps:M}=oe({autoFocus:j});m&&(c.rel=(i=c.rel)!=null?i:"noopener noreferrer",c.target=(d=c.target)!=null?d:"_blank");const B=S.useMemo(()=>T({...s,disableAnimation:L,className:f}),[Z(s),L,f]),V=S.useCallback(()=>({ref:h,className:B,"data-focus":w(D),"data-disabled":w(a.isDisabled),"data-focus-visible":w(N),...C(M,A,c)}),[B,D,N,M,A,c]);return{Component:t,children:v,anchorIcon:x,showAnchorIcon:k,getLinkProps:V}}var R=ee((a,n)=>{const{Component:o,children:i,showAnchorIcon:d,anchorIcon:u=e.jsx(he,{className:pe}),getLinkProps:r}=xe({ref:n,...a});return e.jsx(o,{...r(),children:e.jsxs(e.Fragment,{children:[i,d&&u]})})});R.displayName="HeroUI.Link";var me=R;function Ae({histories:a}){const[n,o]=ae.useState(a.current_page||1),i=a.per_page||10,d=a.data,u=a.last_page||Math.ceil(a.total/i),r=s=>{o(s),se.get(I("assetsextended.history"),{page:s},{preserveState:!0,replace:!0})};return e.jsxs(ne,{children:[e.jsx(te,{title:"Audit Log"}),e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("div",{className:"my-6",children:e.jsx(ie,{color:"primary",variant:"flat",as:me,href:I("employees.index"),children:"← Back"})}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Audit Log"}),e.jsxs(le,{"aria-label":"Audit log table with pagination",bottomContent:e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(fe,{isCompact:!0,showControls:!0,showShadow:!0,color:"secondary",page:n,total:u,onChange:r})}),classNames:{wrapper:"min-h-[222px]"},children:[e.jsxs(ce,{children:[e.jsx(p,{children:"User"},"user_id"),e.jsx(p,{children:"Action"},"action"),e.jsx(p,{children:"Model"},"model_type"),e.jsx(p,{children:"Model ID"},"model_id"),e.jsx(p,{children:"Changes"},"changes"),e.jsx(p,{children:"Date"},"created_at")]}),e.jsx(de,{items:d,children:s=>e.jsx(ue,{children:l=>l==="changes"?e.jsx(P,{children:e.jsx("pre",{className:"whitespace-pre-wrap max-w-xs overflow-auto",children:JSON.stringify(s.changes,null,2)})}):l==="created_at"?e.jsx(P,{children:new Date(s.created_at).toLocaleString()}):e.jsx(P,{children:re(s,l)})},s.id)})]})]})]})}export{Ae as default};
