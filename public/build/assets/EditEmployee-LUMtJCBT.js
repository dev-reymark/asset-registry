import{K as O,m as N,j as s,L as T,$ as M,S as A,V as P}from"./app-D2Fc9J7r.js";import{A as x}from"./Authenticated-Bi7dy8wc.js";import{s as r}from"./index-KE12rTfI.js";import{b as o}from"./chunk-KCYYJJH4-CFnQEN56.js";import{F as h}from"./chunk-LAX3QLKM-DgxfjCIa.js";import{i as n}from"./chunk-5CAICSBD-C5uePlKw.js";import{s as m,l as p}from"./chunk-2C6KNKEU-DB-baBfx.js";import"./chunk-SLABUSGS-BiRJdjsi.js";import"./index-CbNZw6my.js";import"./useMenuTriggerState-BWe6aKPw.js";import"./index-K8Flc6f-.js";function _(){const{employee:t,departments:d,locations:u,workstations:D}=O().props,{data:a,setData:l,processing:E}=N({EMPNO:t.EMPNO,EMPLOYEEID:t.EMPLOYEEID,EMPLOYEENAME:t.EMPLOYEENAME,DEPARTMENT:t.DEPARTMENT,LOCATION:t.LOCATION,WORKSTATION:""}),c=e=>{e.preventDefault(),axios.post(r("employees.update",{employee:a.EMPNO}),{_method:"PUT",EMPNO:a.EMPNO,EMPLOYEEID:a.EMPLOYEEID,EMPLOYEENAME:a.EMPLOYEENAME,DEPARTMENT:a.DEPARTMENT,LOCATION:a.LOCATION,WORKSTATION:null}).then(i=>{A.visit(r("employees.index")),P.success("Employee updated successfully")}).catch(i=>{console.error("There was an error updating the employee.",i)})};return s.jsxs(x,{children:[s.jsx(T,{title:"Edit Employee"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"my-6",children:s.jsx(o,{color:"primary",variant:"flat",as:M,href:r("employees.index"),children:"← Back to Employees"})}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Edit Employee"}),s.jsxs(h,{onSubmit:c,className:"w-full flex flex-col gap-4",children:[s.jsx(n,{isRequired:!0,label:"Employee ID",value:a.EMPLOYEEID,onChange:e=>l("EMPLOYEEID",e.target.value)}),s.jsx(n,{isRequired:!0,label:"Employee Name",value:a.EMPLOYEENAME,onChange:e=>l("EMPLOYEENAME",e.target.value)}),s.jsx(m,{isRequired:!0,label:"Department",value:a.DEPARTMENT,onChange:e=>l("DEPARTMENT",e.target.value),selectedKeys:a.DEPARTMENT,children:d.map(e=>s.jsx(p,{value:e.DEPARTMETID,children:e.DEPARTMENTNAME},e.DEPARTMETID))}),s.jsx(m,{isRequired:!0,label:"Location",value:a.LOCATION,onChange:e=>l("LOCATION",e.target.value),selectedKeys:a.LOCATION,children:u.map(e=>s.jsx(p,{value:e.LOCATIONID,children:e.LOCATIONNAME},e.LOCATIONID))}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(o,{type:"submit",color:"primary",isDisabled:E,children:E?"Updating...":"Update"}),s.jsx(o,{type:"button",color:"warning",variant:"flat",onPress:()=>window.history.back(),isDisabled:E,children:"Cancel"})]})]})]})]})}export{_ as default};
