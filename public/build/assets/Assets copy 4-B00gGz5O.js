import{r as d,a as Ss,t as As,d as Fe,c as ae,b as Ds,e as Ns,f as Cs,g as B,h as _s,i as Ps,k as Ae,u as De,l as X,j as e,n as $s,o as ws,p as Y,q as Es,s as Is,v as Xe,w as Os,x as Ts,y as Ls,z as Ks,K as Ms,L as Fs,$ as Re,S as z,V as J}from"./app-D2Fc9J7r.js";import{A as Rs}from"./Authenticated-Bi7dy8wc.js";import{u as Us}from"./useDebounce-BQOWSoNW.js";import{C as zs}from"./index-BygZJprX.js";import{s as L}from"./index-KE12rTfI.js";import{F as ks}from"./swiper-BOcsf77U.js";import{S as Vs,a as Ws}from"./swiper-react-Dkamn6yS.js";import{H as Ue,t as ze}from"./index-yk3UxgDN.js";import{A as Hs}from"./AssetComponents-7oNtlmOB.js";import{s as ke,n as Ve}from"./statusConstants-B9bmVMgg.js";import{$ as Ze,i as pe}from"./chunk-5CAICSBD-C5uePlKw.js";import{$ as Ys,a as Bs,b as qs,c as Gs}from"./useMenuTriggerState-BWe6aKPw.js";import{$ as es,b as $}from"./chunk-KCYYJJH4-CFnQEN56.js";import{m as Js,t as We,a as He,b as x,c as Ye,d as Be,e as g}from"./chunk-F3UDT23P-DI8xBlRF.js";import{t as Qs}from"./index-CokAva9Y.js";import{d as Xs,L as Zs}from"./features-max-nSVMNQjr.js";import{$ as et}from"./useSingleSelectListState-gE1PoNaV.js";import{u as ne,m as me,a as he,b as xe,c as ge,d as ve}from"./index-DipQ1G8P.js";import{d as je,a as ye,b as Se,m as Q}from"./chunk-Z2IJA2C6-BuKxO1iJ.js";import{c as qe}from"./chunk-J7I6W5JF-CLLlUbvt.js";import{i as st}from"./chunk-3TCFMHK3-LtiDXk4l.js";import{s as ie,l as oe}from"./chunk-2C6KNKEU-DB-baBfx.js";import"./index-CbNZw6my.js";import"./chunk-SLABUSGS-BiRJdjsi.js";import"./index-K8Flc6f-.js";import"./LiveAnnouncer-BVsrsiec.js";import"./features-animation-CF5nknSe.js";function tt(a,s){let r=s==null?void 0:s.isDisabled,[l,n]=d.useState(!1);return Ss(()=>{if(a!=null&&a.current&&!r){let o=()=>{if(a.current){let f=Ys(a.current,{tabbable:!0});n(!!f.nextNode())}};o();let c=new MutationObserver(o);return c.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{c.disconnect()}}}),r?!1:l}var Ge=As({slots:{base:"inline-flex",tabList:["flex","p-1","h-fit","gap-2","items-center","flex-nowrap","overflow-x-scroll","scrollbar-hide","bg-default-100"],tab:["z-0","w-full","px-3","py-1","flex","group","relative","justify-center","items-center","outline-none","cursor-pointer","transition-opacity","tap-highlight-transparent","data-[disabled=true]:cursor-not-allowed","data-[disabled=true]:opacity-30","data-[hover-unselected=true]:opacity-disabled",...Fe],tabContent:["relative","z-10","text-inherit","whitespace-nowrap","transition-colors","text-default-500","group-data-[selected=true]:text-foreground"],cursor:["absolute","z-0","bg-white"],panel:["py-3","px-1","outline-none","data-[inert=true]:hidden",...Fe],tabWrapper:[]},variants:{variant:{solid:{cursor:"inset-0"},light:{tabList:"bg-transparent dark:bg-transparent",cursor:"inset-0"},underlined:{tabList:"bg-transparent dark:bg-transparent",cursor:"h-[2px] w-[80%] bottom-0 shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]"},bordered:{tabList:"bg-transparent dark:bg-transparent border-medium border-default-200 shadow-sm",cursor:"inset-0"}},color:{default:{},primary:{},secondary:{},success:{},warning:{},danger:{}},size:{sm:{tabList:"rounded-medium",tab:"h-7 text-tiny rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"h-8 text-small rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"h-9 text-medium rounded-medium",cursor:"rounded-medium"}},radius:{none:{tabList:"rounded-none",tab:"rounded-none",cursor:"rounded-none"},sm:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},md:{tabList:"rounded-medium",tab:"rounded-small",cursor:"rounded-small"},lg:{tabList:"rounded-large",tab:"rounded-medium",cursor:"rounded-medium"},full:{tabList:"rounded-full",tab:"rounded-full",cursor:"rounded-full"}},fullWidth:{true:{base:"w-full",tabList:"w-full"}},isDisabled:{true:{tabList:"opacity-disabled pointer-events-none"}},disableAnimation:{true:{tab:"transition-none",tabContent:"transition-none"}},placement:{top:{},start:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex"},end:{tabList:"flex-col",panel:"py-0 px-3",tabWrapper:"flex flex-row-reverse"},bottom:{tabWrapper:"flex flex-col-reverse"}}},defaultVariants:{color:"default",variant:"solid",size:"md",fullWidth:!1,isDisabled:!1},compoundVariants:[{variant:["solid","bordered","light"],color:"default",class:{cursor:["bg-background","dark:bg-default","shadow-small"],tabContent:"group-data-[selected=true]:text-default-foreground"}},{variant:["solid","bordered","light"],color:"primary",class:{cursor:ae.solid.primary,tabContent:"group-data-[selected=true]:text-primary-foreground"}},{variant:["solid","bordered","light"],color:"secondary",class:{cursor:ae.solid.secondary,tabContent:"group-data-[selected=true]:text-secondary-foreground"}},{variant:["solid","bordered","light"],color:"success",class:{cursor:ae.solid.success,tabContent:"group-data-[selected=true]:text-success-foreground"}},{variant:["solid","bordered","light"],color:"warning",class:{cursor:ae.solid.warning,tabContent:"group-data-[selected=true]:text-warning-foreground"}},{variant:["solid","bordered","light"],color:"danger",class:{cursor:ae.solid.danger,tabContent:"group-data-[selected=true]:text-danger-foreground"}},{variant:"underlined",color:"default",class:{cursor:"bg-foreground",tabContent:"group-data-[selected=true]:text-foreground"}},{variant:"underlined",color:"primary",class:{cursor:"bg-primary",tabContent:"group-data-[selected=true]:text-primary"}},{variant:"underlined",color:"secondary",class:{cursor:"bg-secondary",tabContent:"group-data-[selected=true]:text-secondary"}},{variant:"underlined",color:"success",class:{cursor:"bg-success",tabContent:"group-data-[selected=true]:text-success"}},{variant:"underlined",color:"warning",class:{cursor:"bg-warning",tabContent:"group-data-[selected=true]:text-warning"}},{variant:"underlined",color:"danger",class:{cursor:"bg-danger",tabContent:"group-data-[selected=true]:text-danger"}},{disableAnimation:!0,variant:"underlined",class:{tab:["after:content-['']","after:absolute","after:bottom-0","after:h-[2px]","after:w-[80%]","after:opacity-0","after:shadow-[0_1px_0px_0_rgba(0,0,0,0.05)]","data-[selected=true]:after:opacity-100"]}},{disableAnimation:!0,color:"default",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-default data-[selected=true]:text-default-foreground"}},{disableAnimation:!0,color:"primary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-primary data-[selected=true]:text-primary-foreground"}},{disableAnimation:!0,color:"secondary",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-secondary data-[selected=true]:text-secondary-foreground"}},{disableAnimation:!0,color:"success",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-success data-[selected=true]:text-success-foreground"}},{disableAnimation:!0,color:"warning",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-warning data-[selected=true]:text-warning-foreground"}},{disableAnimation:!0,color:"danger",variant:["solid","bordered","light"],class:{tab:"data-[selected=true]:bg-danger data-[selected=true]:text-danger-foreground"}},{disableAnimation:!0,color:"default",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-foreground"}},{disableAnimation:!0,color:"primary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-primary"}},{disableAnimation:!0,color:"secondary",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-secondary"}},{disableAnimation:!0,color:"success",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-success"}},{disableAnimation:!0,color:"warning",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-warning"}},{disableAnimation:!0,color:"danger",variant:"underlined",class:{tab:"data-[selected=true]:after:bg-danger"}}],compoundSlots:[{variant:"underlined",slots:["tab","tabList","cursor"],class:["rounded-none"]}]});function at(a={}){const{rerender:s=!1,delay:r=0}=a,l=d.useRef(!1),[n,o]=d.useState(!1);return d.useEffect(()=>{l.current=!0;let c=null;return s&&(r>0?c=setTimeout(()=>{o(!0)},r):o(!0)),()=>{l.current=!1,s&&o(!1),c&&clearTimeout(c)}},[s]),[d.useCallback(()=>l.current,[]),n]}const ss=new WeakMap;function de(a,s,r){return a?(typeof s=="string"&&(s=s.replace(/\s+/g,"")),`${ss.get(a)}-${r}-${s}`):""}function rt(a,s,r){let{key:l,isDisabled:n,shouldSelectOnPressUp:o}=a,{selectionManager:c,selectedKey:f}=s,b=l===f,m=n||s.isDisabled||s.selectionManager.isDisabled(l),{itemProps:u,isPressed:h}=Bs({selectionManager:c,key:l,ref:r,isDisabled:m,shouldSelectOnPressUp:o,linkBehavior:"selection"}),A=de(s,l,"tab"),j=de(s,l,"tabpanel"),{tabIndex:y}=u,p=s.collection.getItem(l),E=Ds(p==null?void 0:p.props,{labelable:!0});delete E.id;let S=Ns(p==null?void 0:p.props),{focusableProps:_}=Cs({isDisabled:m},r);return{tabProps:B(E,_,S,u,{id:A,"aria-selected":b,"aria-disabled":m||void 0,"aria-controls":b?j:void 0,tabIndex:m?void 0:y,role:"tab"}),isSelected:b,isDisabled:m,isPressed:h}}function lt(a,s,r){let l=tt(r)?void 0:0;var n;const o=de(s,(n=a.id)!==null&&n!==void 0?n:s==null?void 0:s.selectedKey,"tabpanel"),c=Ze({...a,id:o,"aria-labelledby":de(s,s==null?void 0:s.selectedKey,"tab")});return{tabPanelProps:B(c,{tabIndex:l,role:"tabpanel","aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]})}}class nt{getKeyLeftOf(s){return this.flipDirection?this.getNextKey(s):this.getPreviousKey(s)}getKeyRightOf(s){return this.flipDirection?this.getPreviousKey(s):this.getNextKey(s)}isDisabled(s){var r,l;return this.disabledKeys.has(s)||!!(!((l=this.collection.getItem(s))===null||l===void 0||(r=l.props)===null||r===void 0)&&r.isDisabled)}getFirstKey(){let s=this.collection.getFirstKey();return s!=null&&this.isDisabled(s)&&(s=this.getNextKey(s)),s}getLastKey(){let s=this.collection.getLastKey();return s!=null&&this.isDisabled(s)&&(s=this.getPreviousKey(s)),s}getKeyAbove(s){return this.tabDirection?null:this.getPreviousKey(s)}getKeyBelow(s){return this.tabDirection?null:this.getNextKey(s)}getNextKey(s){do s=this.collection.getKeyAfter(s),s==null&&(s=this.collection.getFirstKey());while(this.isDisabled(s));return s}getPreviousKey(s){do s=this.collection.getKeyBefore(s),s==null&&(s=this.collection.getLastKey());while(this.isDisabled(s));return s}constructor(s,r,l,n=new Set){this.collection=s,this.flipDirection=r==="rtl"&&l==="horizontal",this.disabledKeys=n,this.tabDirection=l==="horizontal"}}function it(a,s,r){let{orientation:l="horizontal",keyboardActivation:n="automatic"}=a,{collection:o,selectionManager:c,disabledKeys:f}=s,{direction:b}=_s(),m=d.useMemo(()=>new nt(o,b,l,f),[o,f,l,b]),{collectionProps:u}=qs({ref:r,selectionManager:c,keyboardDelegate:m,selectOnFocus:n==="automatic",disallowEmptySelection:!0,scrollRef:r,linkBehavior:"selection"}),h=Ps();ss.set(s,h);let A=Ze({...a,id:h});return{tabListProps:{...B(u,A),role:"tablist","aria-orientation":l,tabIndex:void 0}}}var ts=Ae((a,s)=>{var r,l;const{as:n,tabKey:o,destroyInactiveTabPanel:c,state:f,className:b,slots:m,classNames:u,...h}=a,A=n||"div",j=De(s),{tabPanelProps:y}=lt({...a,id:String(o)},f,j),{focusProps:p,isFocused:E,isFocusVisible:S}=es(),_=f.selectedItem,P=f.collection.getItem(o).props.children,D=X(u==null?void 0:u.panel,b,(r=_==null?void 0:_.props)==null?void 0:r.className),N=o===(_==null?void 0:_.key);return!P||!N&&c?null:e.jsx(A,{ref:j,"data-focus":E,"data-focus-visible":S,"data-inert":N?void 0:"true",inert:$s(!N),...N&&B(y,p,h),className:(l=m.panel)==null?void 0:l.call(m,{class:D}),"data-slot":"panel",children:P})});ts.displayName="HeroUI.TabPanel";var ot=ts,as=Ae((a,s)=>{var r;const{className:l,as:n,item:o,state:c,classNames:f,isDisabled:b,listRef:m,slots:u,motionProps:h,disableAnimation:A,disableCursorAnimation:j,shouldSelectOnPressUp:y,onClick:p,tabRef:E,...S}=a,{key:_}=o,P=De(s),D=n||(a.href?"a":"button"),N=typeof D=="string",{tabProps:I,isSelected:M,isDisabled:w,isPressed:k}=rt({key:_,isDisabled:b,shouldSelectOnPressUp:y},c,P);a.children==null&&delete I["aria-controls"];const Z=b||w,{focusProps:ee,isFocused:K,isFocusVisible:se}=es(),{hoverProps:C,isHovered:v}=ws({isDisabled:Z}),q=X(f==null?void 0:f.tab,l),[,G]=at({rerender:!0}),re=()=>{Os(p,I.onClick),!(!(P!=null&&P.current)||!(m!=null&&m.current))&&Qs(P.current,{scrollMode:"if-needed",behavior:"smooth",block:"end",inline:"end",boundary:m==null?void 0:m.current})};return e.jsxs(D,{ref:Js(P,E),"data-disabled":Y(w),"data-focus":Y(K),"data-focus-visible":Y(se),"data-hover":Y(v),"data-hover-unselected":Y((v||k)&&!M),"data-pressed":Y(k),"data-selected":Y(M),"data-slot":"tab",...B(I,Z?{}:{...ee,...C},Xe(S,{enabled:N,omitPropNames:new Set(["title"])}),{onClick:re}),className:(r=u.tab)==null?void 0:r.call(u,{class:q}),title:S==null?void 0:S.titleValue,type:D==="button"?"button":void 0,children:[M&&!A&&!j&&G?e.jsx(Es,{features:Xs,children:e.jsx(Is.span,{className:u.cursor({class:f==null?void 0:f.cursor}),"data-slot":"cursor",layoutDependency:!1,layoutId:"cursor",transition:{type:"spring",bounce:.15,duration:.5},...h})}):null,e.jsx("div",{className:u.tabContent({class:f==null?void 0:f.tabContent}),"data-slot":"tabContent",children:o.rendered})]})});as.displayName="HeroUI.Tab";var dt=as;function ct(a){var s,r;let l=et({...a,suppressTextValueWarning:!0,defaultSelectedKey:(r=(s=a.defaultSelectedKey)!==null&&s!==void 0?s:Je(a.collection,a.disabledKeys?new Set(a.disabledKeys):new Set))!==null&&r!==void 0?r:void 0}),{selectionManager:n,collection:o,selectedKey:c}=l,f=d.useRef(c);return d.useEffect(()=>{let b=c;a.selectedKey==null&&(n.isEmpty||b==null||!o.getItem(b))&&(b=Je(o,l.disabledKeys),b!=null&&n.setSelectedKeys([b])),(b!=null&&n.focusedKey==null||!n.isFocused&&b!==f.current)&&n.setFocusedKey(b),f.current=b}),{...l,isDisabled:a.isDisabled||!1}}function Je(a,s){let r=null;if(a){var l,n,o,c;for(r=a.getFirstKey();r!=null&&(s.has(r)||!((n=a.getItem(r))===null||n===void 0||(l=n.props)===null||l===void 0)&&l.isDisabled)&&r!==a.getLastKey();)r=a.getKeyAfter(r);r!=null&&(s.has(r)||!((c=a.getItem(r))===null||c===void 0||(o=c.props)===null||o===void 0)&&o.isDisabled)&&r===a.getLastKey()&&(r=a.getFirstKey())}return r}function ut(a){var s,r,l;const n=Ts(),[o,c]=Ls(a,Ge.variantKeys),{ref:f,as:b,className:m,classNames:u,children:h,disableCursorAnimation:A,motionProps:j,isVertical:y=!1,shouldSelectOnPressUp:p=!0,destroyInactiveTabPanel:E=!0,...S}=o,_=b||"div",P=typeof _=="string",D=De(f),N=(r=(s=a==null?void 0:a.disableAnimation)!=null?s:n==null?void 0:n.disableAnimation)!=null?r:!1,I=ct({children:h,...S}),{tabListProps:M}=it(S,I,D),w=d.useMemo(()=>Ge({...c,disableAnimation:N,...y?{placement:"start"}:{}}),[Ks(c),N,y]),k=X(u==null?void 0:u.base,m),Z=d.useMemo(()=>({state:I,slots:w,classNames:u,motionProps:j,disableAnimation:N,listRef:D,shouldSelectOnPressUp:p,disableCursorAnimation:A,isDisabled:a==null?void 0:a.isDisabled}),[I,w,D,j,N,A,p,a==null?void 0:a.isDisabled,u]),ee=d.useCallback(v=>({"data-slot":"base",className:w.base({class:X(k,v==null?void 0:v.className)}),...B(Xe(S,{enabled:P}),v)}),[k,S,w]),K=(l=c.placement)!=null?l:y?"start":"top",se=d.useCallback(v=>({"data-slot":"tabWrapper",className:w.tabWrapper({class:X(u==null?void 0:u.tabWrapper,v==null?void 0:v.className)}),"data-placement":K,"data-vertical":y||K==="start"||K==="end"?"vertical":"horizontal"}),[u,w,K,y]),C=d.useCallback(v=>({ref:D,"data-slot":"tabList",className:w.tabList({class:X(u==null?void 0:u.tabList,v==null?void 0:v.className)}),...B(M,v)}),[D,M,u,w]);return{Component:_,domRef:D,state:I,values:Z,destroyInactiveTabPanel:E,getBaseProps:ee,getTabListProps:C,getWrapperProps:se}}var bt=Ae(function(s,r){const{Component:l,values:n,state:o,destroyInactiveTabPanel:c,getBaseProps:f,getTabListProps:b,getWrapperProps:m}=ut({...s,ref:r}),u=d.useId(),h=!s.disableAnimation&&!s.disableCursorAnimation,A={state:o,listRef:n.listRef,slots:n.slots,classNames:n.classNames,isDisabled:n.isDisabled,motionProps:n.motionProps,disableAnimation:n.disableAnimation,shouldSelectOnPressUp:n.shouldSelectOnPressUp,disableCursorAnimation:n.disableCursorAnimation},j=[...o.collection].map(p=>e.jsx(dt,{item:p,...A,...p.props},p.key)),y=e.jsxs(e.Fragment,{children:[e.jsx("div",{...f(),children:e.jsx(l,{...b(),children:h?e.jsx(Zs,{id:u,children:j}):j})}),[...o.collection].map(p=>e.jsx(ot,{classNames:n.classNames,destroyInactiveTabPanel:c,slots:n.slots,state:n.state,tabKey:p.key},p.key))]});return"placement"in s||"isVertical"in s?e.jsx("div",{...m(),children:y}):y}),ft=bt,pt=Gs,Qe=pt;function Vt(){const{employees:a,assets:s,location:r,title:l,desc:n,filters:o={},descriptions:c,statuses:f,issuedTos:b}=Ms().props;console.log("employees",a),console.log("assets",s),console.log("location",r);const[m,u]=d.useState(o.search||""),[h,A]=d.useState(o.sort||""),[j,y]=d.useState(o.start_date||""),[p,E]=d.useState(o.end_date||""),[S,_]=d.useState(o.description||""),[P,D]=d.useState(o.status||""),[N,I]=d.useState(o.issued_to||""),[M,w]=d.useState(o.sort_field||""),[k,Z]=d.useState(o.sort_direction||""),{isOpen:ee,onOpen:K,onOpenChange:se}=ne(),[C,v]=d.useState(null),[q,G]=d.useState(new Set),[re,Ne]=d.useState(""),le=(i,t)=>{z.get(L("assets.index"),{search:m,sort:h,start_date:i,end_date:t},{preserveState:!0,replace:!0})},rs=i=>{const t=i.target.value;y(t),le(t,p)},ls=i=>{const t=i.target.value;E(t),le(j,t)},ns=Us(i=>{z.get(L("assets.index"),{search:i,sort:h},{preserveState:!0,replace:!0})},300),is=i=>{const t=i.target.value;u(t),ns(t)},os=()=>{u(""),z.get(L("assets.index"),{search:"",sort:h})},Ce=()=>{const i=h==="name_asc"?"name_desc":"name_asc";A(i),z.get(L("assets.index"),{search:m,sort:i},{preserveState:!0,replace:!0})},ds=i=>{z.get(L("assets.index"),{search:m,sortField:M,sortDirection:k,start_date:j,end_date:p,description:S,status:P,issued_to:N,...i},{preserveState:!0,replace:!0})},{isOpen:cs,onOpen:us,onOpenChange:bs}=ne(),[ce,_e]=d.useState(""),[Pe,$e]=d.useState(!1),[ue,we]=d.useState(""),fs=(i,t,V)=>{const O=i.map(Number);$e(!0),z.post(L("assetsextended.transfer"),{asset_nos:O,location_id:t,employee_id:V,status:re},{preserveState:!0,replace:!0,onSuccess:()=>{G(new Set),_e(""),we(""),Ne(""),J.success("Assets transferred successfully.")},onError:T=>{console.error("Transfer failed:",T),J.error("Failed to transfer assets.")},onFinish:()=>{$e(!1)}})},{isOpen:ps,onOpen:ms,onOpenChange:hs}=ne(),[be,Ee]=d.useState(""),[fe,Ie]=d.useState(""),[Oe,Te]=d.useState(!1),[Le,Ke]=d.useState(""),xs=i=>{Te(!0),z.post(L("assetsextended.archive",{assetNo:i}),{status:Le,archival_reason:be,conditions:fe},{preserveState:!0,replace:!0,onSuccess:()=>{G(new Set),Ke(""),Ee(""),Ie(""),J.success("Assets archived successfully.")},onError:t=>{console.error("Archive failed:",t),J.error("Failed to archive assets.")},onFinish:()=>{Te(!1)}})},gs=i=>{z.post(L("assetsextended.restore",{assetNo:i}),{},{preserveState:!0,replace:!0,onSuccess:()=>{J.success("Asset restored successfully.")},onError:t=>{console.error("Restore failed:",t),J.error("Failed to restore asset.")}})},{isOpen:vs,onOpen:js,onOpenChange:ys}=ne();return e.jsxs(Rs,{children:[e.jsx(Fs,{title:"Employee Assets"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:l}),e.jsx("p",{className:"text-gray-600 mb-4",children:n}),e.jsxs("div",{className:"flex justify-between mb-4",children:[e.jsx(pe,{isClearable:!0,className:"w-full sm:max-w-[44%]",placeholder:"Search by name, description...",startContent:e.jsx(zs,{className:"size-5"}),value:m,onClear:os,onChange:is}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ks,{statuses:f,status:P,setStatus:D,descriptions:c,description:S,setDescription:_,issuedTos:b,issuedTo:N,applyFilters:ds,setIssuedTo:I}),e.jsxs(je,{children:[e.jsx(ye,{children:e.jsx($,{variant:"bordered",children:"Filter by Date Issued"})}),e.jsx(Se,{"aria-label":"Filter by Date Issued",className:"p-2 w-72",closeOnSelect:!1,children:e.jsx(Q,{className:"cursor-default",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(pe,{type:"date",label:"Start Date",value:j,onChange:rs}),e.jsx(pe,{type:"date",label:"End Date",value:p,onChange:ls}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx($,{color:"primary",onPress:()=>le(j,p),children:"Apply"}),e.jsx($,{color:"warning",variant:"flat",onPress:()=>{y(""),E(""),le("","")},children:"Clear"})]})]})},"filter")})]})]})]}),e.jsx("div",{className:"flex w-full flex-col",children:e.jsxs(ft,{"aria-label":"Options",children:[e.jsx(Qe,{title:"Active Assets",children:e.jsxs(We,{isCompact:!0,isHeaderSticky:!0,isVirtualized:!0,maxTableHeight:"calc(100vh - 300px)",selectionMode:"multiple",selectedKeys:q,onSelectionChange:G,"aria-label":"Employee Assets table",isStriped:!0,topContent:e.jsxs("div",{className:"flex justify-start items-center mb-4 gap-2",children:[e.jsx($,{color:"primary",as:Re,href:L("assetsextended.create"),children:"Add New Asset"}),e.jsx($,{color:"success",variant:"flat",onPress:us,isDisabled:q.size===0,children:"Transfer Asset"})]}),children:[e.jsxs(He,{className:"sticky top-0 bg-white z-10",children:[e.jsx(x,{children:"Asset #"}),e.jsx(x,{children:"System Asset ID"}),e.jsx(x,{children:"Description"}),e.jsx(x,{children:"Model"}),e.jsx(x,{children:"Serial No"}),e.jsxs(x,{onClick:Ce,style:{cursor:"pointer"},children:["EMPLOYEE",h==="name_asc"&&" ðŸ”¼",h==="name_desc"&&" ðŸ”½",!["name_asc","name_desc"].includes(h)&&" âºï¸"]}),e.jsx(x,{children:"Location"}),e.jsx(x,{children:"Status"}),e.jsx(x,{children:"Date Issued"}),e.jsx(x,{children:"Actions"})]}),e.jsx(Ye,{emptyContent:"No rows to display.",children:s.filter(i=>i.asset_details.some(t=>parseInt(t.archived)===0)).map(i=>i.asset_details.filter(t=>parseInt(t.archived)===0).map((t,V)=>{var O,T,F,R,W,U,H,te,Me;return e.jsxs(Be,{children:[e.jsx(g,{children:(O=t.ASSETNUMBER)==null?void 0:O.trim()}),e.jsx(g,{children:(T=t.SYSTEMASSETID)==null?void 0:T.trim()}),e.jsx(g,{children:(F=t.DESCRIPTION)==null?void 0:F.trim()}),e.jsx(g,{children:(R=t.MODEL)==null?void 0:R.trim()}),e.jsx(g,{children:(W=t.SERIALNO)==null?void 0:W.trim()}),e.jsx(g,{children:(U=i.EMPLOYEENAME)==null?void 0:U.trim()}),e.jsx(g,{children:(H=t==null?void 0:t.location.LOCATIONNAME)==null?void 0:H.trim()}),e.jsx(g,{children:e.jsx(qe,{variant:"flat",color:ke[(te=t.STATUS)==null?void 0:te.trim()]||"default",radius:"md",children:(Me=t.STATUS)==null?void 0:Me.trim()})}),e.jsx(g,{children:t.DATEISSUUED?new Date(t.DATEISSUUED.trim()).toLocaleDateString():"--"}),e.jsx(g,{children:e.jsxs(je,{children:[e.jsx(ye,{children:e.jsx($,{isIconOnly:!0,size:"sm",variant:"light",children:e.jsx(Ue,{size:20,className:"text-default-800"})})}),e.jsxs(Se,{children:[e.jsx(Q,{onPress:()=>{v({...i,asset_details:[t]}),K()},children:"View"},"view"),e.jsx(Q,{as:Re,href:L("assetsextended.edit",t.ASSETNO),children:"Update"},"update"),e.jsx(Q,{className:"text-danger",color:"danger",onPress:()=>{v({...i,asset_details:[t]}),ms()},children:"Dispose"},"dispose")]})]})})]},t.ASSETNO)}))})]})},"active"),e.jsx(Qe,{title:"History",children:e.jsxs(We,{isVirtualized:!0,selectedKeys:q,onSelectionChange:G,"aria-label":"Employee Assets table",isStriped:!0,children:[e.jsxs(He,{children:[e.jsx(x,{children:"System Asset ID"}),e.jsx(x,{children:"Description"}),e.jsx(x,{children:"Model"}),e.jsx(x,{children:"Serial No"}),e.jsxs(x,{onClick:Ce,style:{cursor:"pointer"},children:["EMPLOYEE",h==="name_asc"&&" ðŸ”¼",h==="name_desc"&&" ðŸ”½",!["name_asc","name_desc"].includes(h)&&" âºï¸"]}),e.jsx(x,{children:"Location"}),e.jsx(x,{children:"Status"}),e.jsx(x,{children:"Date Issued"}),e.jsx(x,{children:"Actions"})]}),e.jsx(Ye,{emptyContent:"No rows to display.",children:s.filter(i=>i.asset_details.some(t=>parseInt(t.archived.trim())===1)).map(i=>i.asset_details.filter(t=>parseInt(t.archived.trim())===1).map((t,V)=>{var O,T,F,R,W,U,H,te;return e.jsxs(Be,{children:[e.jsx(g,{children:(O=t.SYSTEMASSETID)==null?void 0:O.trim()}),e.jsx(g,{children:(T=t.DESCRIPTION)==null?void 0:T.trim()}),e.jsx(g,{children:(F=t.MODEL)==null?void 0:F.trim()}),e.jsx(g,{children:(R=t.SERIALNO)==null?void 0:R.trim()}),e.jsx(g,{children:(W=i.EMPLOYEENAME)==null?void 0:W.trim()}),e.jsx(g,{children:(U=t==null?void 0:t.location.LOCATIONNAME)==null?void 0:U.trim()}),e.jsx(g,{children:e.jsx(qe,{variant:"flat",color:ke[(H=t.STATUS)==null?void 0:H.trim()]||"default",radius:"md",children:(te=t.STATUS)==null?void 0:te.trim()})}),e.jsx(g,{children:t.DATEISSUUED?new Date(t.DATEISSUUED.trim()).toLocaleDateString():"--"}),e.jsx(g,{children:e.jsxs(je,{children:[e.jsx(ye,{children:e.jsx($,{isIconOnly:!0,size:"sm",variant:"light",children:e.jsx(Ue,{size:20,className:"text-default-800"})})}),e.jsxs(Se,{children:[e.jsx(Q,{onPress:()=>{v({...i,asset_details:[t]}),K()},children:"View"},"view"),e.jsx(Q,{color:"warning",className:"text-warning-500",onPress:()=>gs(t.ASSETNO),children:"Restore"},"restore")]})]})})]},t.ASSETNO)}))})]})},"archived")]})}),e.jsx(me,{isOpen:ee,size:"xl",placement:"top-center",onOpenChange:i=>{i||v(null),se(i)},children:e.jsx(he,{children:i=>{var t,V,O,T,F,R;return e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"flex flex-col gap-1",children:"Assets Details"}),e.jsx(ge,{children:C&&e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsx(Vs,{spaceBetween:10,slidesPerView:1,className:"w-full sm:w-1/2 lg:w-1/3",children:((t=C==null?void 0:C.asset_details[0])==null?void 0:t.IMAGEPATH)&&JSON.parse(C.asset_details[0].IMAGEPATH).map((W,U)=>e.jsx(Ws,{children:e.jsx(st,{src:`/storage/${W}`,alt:`Asset Image ${U+1}`,className:"object-cover",width:400,height:200,onError:H=>H.target.src="/assets/placeholder.jpg"})},U))}),e.jsxs("div",{className:"flex-1 space-y-4 text-sm text-gray-700",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Description:"})," ",(V=C.asset_details[0])==null?void 0:V.DESCRIPTION]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Serial Number:"})," ",(O=C.asset_details[0])==null?void 0:O.SERIALNO]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",(F=(T=C.asset_details[0])==null?void 0:T.DATEISSUUED)==null?void 0:F.trim()]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Condition:"})," ",(R=C.asset_details[0])==null?void 0:R.CONDITIONS]}),e.jsx($,{color:"primary",variant:"light",onPress:js,children:"View components"})]})]})}),e.jsx(ve,{children:e.jsx($,{color:"danger",variant:"flat",onPress:i,children:"Close"})})]})}})}),e.jsx(Hs,{onComponentModalOpenChange:ys,isComponentModalOpen:vs}),e.jsx(me,{isOpen:cs,onOpenChange:bs,size:"md",placement:"top-center",children:e.jsx(he,{children:i=>e.jsxs(e.Fragment,{children:[e.jsxs(xe,{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Transfer Assets"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Select a location to transfer the selected assets."})]}),e.jsxs(ge,{children:[e.jsx(ie,{label:"Select Employee",value:ue,onChange:t=>we(t.target.value),children:a.map((t,V)=>t.EMPLOYEEID?e.jsx(oe,{value:t.EMPLOYEEID,children:t.EMPLOYEENAME},t.EMPLOYEEID):null)}),e.jsx(ie,{label:"Select Location",value:ce,onChange:t=>_e(t.target.value),children:r.map(t=>e.jsx(oe,{value:t.LOCATIONID,children:t.LOCATIONNAME},t.LOCATIONID))}),e.jsx(ie,{label:"Select Status",value:re,onChange:t=>Ne(t.target.value),children:Ve.map(t=>e.jsx(oe,{value:t.value,children:t.label},t.value))})]}),e.jsxs(ve,{children:[e.jsx($,{color:"danger",variant:"light",onPress:i,children:"Cancel"}),e.jsx($,{color:"primary",onPress:()=>{fs(Array.from(q),ce,ue),i()},isDisabled:!ce||!ue,isLoading:Pe,children:Pe?"Transferring...":"Transfer"})]})]})})}),e.jsx(me,{isOpen:ps,onOpenChange:hs,placement:"top-center",children:e.jsx(he,{children:i=>e.jsxs(e.Fragment,{children:[e.jsxs(xe,{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"text-lg font-semibold text-danger-500",children:"Are you sure you want to dispose?"}),e.jsxs(ge,{className:"",children:[e.jsx(ze,{isRequired:!0,label:"Reason for disposal",value:be,onChange:t=>Ee(t.target.value)}),e.jsx(ie,{isRequired:!0,variant:"faded",label:"Select Status",value:Le,onChange:t=>Ke(t.target.value),children:Ve.map(t=>e.jsx(oe,{value:t.value,children:t.label},t.value))}),e.jsx(ze,{variant:"faded",isRequired:!0,label:"Asset Condition",value:fe,onChange:t=>Ie(t.target.value)})]})]}),e.jsxs(ve,{children:[e.jsx($,{color:"danger",variant:"light",onPress:i,children:"Cancel"}),e.jsx($,{color:"primary",onPress:()=>{xs(C.asset_details.map(t=>t.ASSETNO)),i()},isDisabled:!be||!fe,isLoading:Oe,children:Oe?"Disposing...":"Dispose"})]})]})})})]})]})}export{Vt as default};
