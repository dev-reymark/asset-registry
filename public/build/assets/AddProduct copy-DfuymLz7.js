import{m as P,r as d,j as e,L as f,$ as A,V as h}from"./app-DhJ3Rndo.js";import{A as O}from"./Authenticated-DCppopgg.js";import{b as l}from"./chunk-KCYYJJH4-Dm19h-2m.js";import{F as j}from"./chunk-LAX3QLKM-Cf9945pr.js";import{i as C}from"./chunk-5CAICSBD-DOl_A7pi.js";import{s as v,l as S}from"./chunk-2C6KNKEU-BxUb4o0K.js";import{c as b}from"./chunk-J7I6W5JF-CKfcYiWa.js";import"./index-CxtW7q5J.js";import"./chunk-SLABUSGS-J5lLvYsm.js";import"./index-x42ZTnEH.js";import"./useMenuTriggerState-B5cIOEVz.js";import"./index-DHe9H3CP.js";function L({assetTypes:E,assetComponents:i,title:n,description:T}){const{data:t,setData:r,post:m,errors:a,processing:o}=P({DESCRIPTION:"",ASSETTYPE:"",ASSETCOMPONENT:""}),[u,c]=d.useState([]),N=s=>{s.preventDefault(),m(route("products.store"),{onSuccess:()=>h.success("Product added successfully")})};d.useEffect(()=>{t.ASSETTYPE?c(i.filter(s=>s.ASSETTYPEID.toString()===t.ASSETTYPE)):c([])},[t.ASSETTYPE,i]);const p=s=>{t.ASSETCOMPONENT===s?r("ASSETCOMPONENT",""):r("ASSETCOMPONENT",s)};return e.jsxs(O,{children:[e.jsx(f,{title:"Add Product"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"my-6",children:e.jsx(l,{color:"primary",variant:"flat",as:A,href:route("products.index"),children:"â† Back to Products"})}),e.jsx("h2",{className:"text-xl font-bold",children:n}),e.jsx("p",{className:"mb-4",children:T}),e.jsxs(j,{onSubmit:N,className:"w-full flex flex-col gap-4",validationErrors:a,onReset:()=>{r({DESCRIPTION:"",ASSETTYPE:"",ASSETCOMPONENT:""})},children:[e.jsx(C,{label:"Product Description",isRequired:!0,value:t.DESCRIPTION,onChange:s=>r("DESCRIPTION",s.target.value)}),e.jsxs(v,{isRequired:!0,label:"Asset Type",value:t.ASSETTYPE,onChange:s=>{const x=s.target.value;r("ASSETTYPE",x),r("ASSETCOMPONENT","")},children:[e.jsx(S,{value:"",disabled:!0,children:"Select Asset Type"}),E.map(s=>e.jsx(S,{value:s.ASSETTYPEID,children:s.ASSETTYPE},s.ASSETTYPEID))]}),t.ASSETTYPE&&e.jsxs("div",{children:[e.jsxs("label",{className:"block font-medium mb-2",children:["Asset Component"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(s=>(t.ASSETCOMPONENT,s.ASSETCOMPNETID.toString(),e.jsx(b,{variant:"flat",color:"success",onClose:()=>p(s.ASSETCOMPNETID.toString()),className:"cursor-pointer",children:s.ASSETCOMPONENTNAME},s.ASSETCOMPNETID)))}),a.ASSETCOMPONENT&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.ASSETCOMPONENT})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(l,{type:"submit",color:"primary",isDisabled:o,children:o?"Saving...":"Add Product"}),e.jsx(l,{type:"reset",color:"warning",variant:"flat",children:"Reset"})]})]})]})]})}export{L as default};
