import{K as x,m as h,j as l,L as R,$ as p,V as I}from"./app-DhJ3Rndo.js";import{A as P}from"./Authenticated-DCppopgg.js";import{F as g}from"./chunk-LAX3QLKM-Cf9945pr.js";import{s as C,l as c}from"./chunk-2C6KNKEU-BxUb4o0K.js";import{i as t}from"./chunk-5CAICSBD-DOl_A7pi.js";import{b as E}from"./chunk-KCYYJJH4-Dm19h-2m.js";import"./index-CxtW7q5J.js";import"./chunk-SLABUSGS-J5lLvYsm.js";import"./useMenuTriggerState-B5cIOEVz.js";import"./index-DHe9H3CP.js";import"./index-x42ZTnEH.js";function _(){var n,T;const{asset:e,products:i,assetno:d,workstations:f}=x().props;console.log(e,i);const{data:s,setData:a,post:D,processing:o,errors:O}=h({ASSETSID:e.ASSETSID,ASSETNO:d,PRODUCTID:"",DESCRIPTION:"",MODEL:"",SERIALNO:"",ISSUEDTO:e==null?void 0:e.EMPLOYEENAME,DATEISSUUED:"",IMAGEPATH:"",SERIALTYPE:"",STATUS:"",ASSETFROM:"",CONDITIONS:"",WORKSTATION:"",TYPESIZE:"",NOPRINT:"",COMPONENT:"",WITHCOMPONENTS:"",SYSTEMASSETID:`${(n=e==null?void 0:e.employee)==null?void 0:n.EMPLOYEEID}-${i==null?void 0:i.PRODUCTID}-${(T=e==null?void 0:e.asset_details)==null?void 0:T.ASSETNUMBER}`,SYSTEMCOMPONENTID:""}),N=r=>{const S=r.target.value,u=i.find(m=>String(m.PRODUCTID)===String(S));a({...s,PRODUCTID:S,DESCRIPTION:u?u.DESCRIPTION:""})},A=async r=>{r.preventDefault();try{await D(route("assets.store",{id:e==null?void 0:e.ASSETSID})),I.success("Asset added successfully")}catch(S){I.error("An error occurred while adding the asset."),console.error("An error occurred while adding the asset:",S)}};return l.jsxs(P,{children:[l.jsx(R,{title:"Add New Asset"}),l.jsx("div",{className:"my-4",children:l.jsxs(E,{color:"primary",variant:"light",as:p,href:route("assets.show",{id:e==null?void 0:e.ASSETSID}),children:["â† Back to ",e==null?void 0:e.EMPLOYEENAME]})}),l.jsxs("div",{className:"p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Add New Asset"}),l.jsxs(g,{onSubmit:A,className:"w-full flex flex-col gap-y-4",validationErrors:O,onReset:()=>{var r;a({ASSETSID:e.ASSETSID,ASSETNO:d,PRODUCTID:"",DESCRIPTION:"",MODEL:"",SERIALNO:"",ISSUEDTO:e==null?void 0:e.EMPLOYEENAME,DATEISSUUED:"",IMAGEPATH:"",SERIALTYPE:"",STATUS:"",ASSETFROM:"",CONDITIONS:"",WORKSTATION:"",TYPESIZE:"",NOPRINT:"",COMPONENT:"",WITHCOMPONENTS:"",SYSTEMASSETID:`${(r=e==null?void 0:e.employee)==null?void 0:r.EMPLOYEEID}-${e==null?void 0:e.ASSETSID}-${d}`,SYSTEMCOMPONENTID:""})},children:[l.jsxs("div",{className:"w-full border p-4 rounded-lg mb-4",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Asset ID:"})," ",(e==null?void 0:e.ASSETSID)||"--"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Employee Name:"})," ",(e==null?void 0:e.EMPLOYEENAME)||"--"]})]}),l.jsx("p",{children:"Please fill required fields."}),l.jsxs("div",{className:"w-full flex gap-4",children:[l.jsxs(C,{isRequired:!0,label:"Product",value:s.PRODUCTID,onChange:N,children:[l.jsx(c,{value:"",children:"Select a product"}),i.map(r=>l.jsx(c,{value:r.PRODUCTID,children:r.DESCRIPTION},r.PRODUCTID))]}),l.jsx(t,{label:"Description",isRequired:!0,isReadOnly:!0,value:s.DESCRIPTION,onChange:r=>a("DESCRIPTION",r.target.value)})]}),l.jsxs("div",{className:"w-full flex gap-4",children:[l.jsx(t,{isRequired:!0,isReadOnly:!0,label:"System Asset ID",value:s.SYSTEMASSETID,onChange:r=>a("SYSTEMASSETID",r.target.value),description:"This will be generated automatically."}),l.jsx(t,{label:"Date Issued",type:"date",isRequired:!0,value:s.DATEISSUUED,onChange:r=>a("DATEISSUUED",r.target.value)})]}),l.jsxs("div",{className:"w-full flex gap-4",children:[l.jsx(t,{label:"Model",isRequired:!0,value:s.MODEL,onChange:r=>a("MODEL",r.target.value)}),l.jsx(t,{description:"Serial Number must be unique.",label:"Serial Number",isRequired:!0,value:s.SERIALNO,onChange:r=>a("SERIALNO",r.target.value)})]}),l.jsxs("div",{className:"w-full flex gap-4",children:[l.jsx(t,{isRequired:!0,label:"Status",value:s.STATUS,onChange:r=>a("STATUS",r.target.value)}),l.jsx(t,{label:"Conditions",isRequired:!0,value:s.CONDITIONS,onChange:r=>a("CONDITIONS",r.target.value)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(E,{type:"submit",color:"primary",isDisabled:o,children:o?"Adding...":"Add Asset"}),l.jsx(E,{type:"reset",color:"warning",variant:"flat",isDisabled:o,children:"Reset"})]})]})]})]})}export{_ as default};
