import{K as O,m as N,j as s,L as T,$ as M,S as A,V as P}from"./app-C-h-n_jU.js";import{A as x}from"./Authenticated-szmodAv3.js";import{s as r}from"./index-DobQbzZ3.js";import{b as o}from"./chunk-KCYYJJH4-B8UdEBjV.js";import{F as h}from"./chunk-LAX3QLKM-DQjNCxc7.js";import{i as m}from"./chunk-5CAICSBD-C7RWFiww.js";import{s as n,l as p}from"./chunk-2C6KNKEU-BeewQiB7.js";import"./index-0-18Hqup.js";import"./chunk-SLABUSGS-CT9wyXKN.js";import"./index-B8IiPLOk.js";import"./useDialog-B8bjZPXK.js";import"./index-Bp1MDGjq.js";import"./useListState-DgozxclR.js";import"./useMenuTriggerState-Bk_9l_DT.js";function K(){const{employee:a,departments:d,locations:u,workstations:D}=O().props,{data:t,setData:l,processing:E}=N({EMPNO:a.EMPNO,EMPLOYEEID:a.EMPLOYEEID,EMPLOYEENAME:a.EMPLOYEENAME,DEPARTMENT:a.DEPARTMENT,LOCATION:a.LOCATION,WORKSTATION:""}),c=e=>{e.preventDefault(),axios.post(r("employees.update",{employee:t.EMPNO}),{_method:"PUT",EMPNO:t.EMPNO,EMPLOYEEID:t.EMPLOYEEID,EMPLOYEENAME:t.EMPLOYEENAME,DEPARTMENT:t.DEPARTMENT,LOCATION:t.LOCATION,WORKSTATION:null}).then(i=>{A.visit(r("employees.index")),P.success("Employee updated successfully")}).catch(i=>{console.error("There was an error updating the employee.",i)})};return s.jsxs(x,{children:[s.jsx(T,{title:"Edit Employee"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"my-6",children:s.jsx(o,{color:"primary",variant:"flat",as:M,href:r("employees.index"),children:"← Back to Employees"})}),s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Edit Employee"}),s.jsxs(h,{onSubmit:c,className:"w-full flex flex-col gap-4",children:[s.jsx(m,{isRequired:!0,label:"Employee ID",value:t.EMPLOYEEID,onChange:e=>l("EMPLOYEEID",e.target.value)}),s.jsx(m,{isRequired:!0,label:"Employee Name",value:t.EMPLOYEENAME,onChange:e=>l("EMPLOYEENAME",e.target.value)}),s.jsx(n,{isRequired:!0,label:"Department",value:t.DEPARTMENT,onChange:e=>l("DEPARTMENT",e.target.value),selectedKeys:t.DEPARTMENT,children:d.map(e=>s.jsx(p,{value:e.DEPARTMETID,children:e.DEPARTMENTNAME},e.DEPARTMETID))}),s.jsx(n,{isRequired:!0,label:"Location",value:t.LOCATION,onChange:e=>l("LOCATION",e.target.value),selectedKeys:t.LOCATION,children:u.map(e=>s.jsx(p,{value:e.LOCATIONID,children:e.LOCATIONNAME},e.LOCATIONID))}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(o,{type:"submit",color:"primary",isDisabled:E,children:E?"Updating...":"Update"}),s.jsx(o,{type:"button",color:"warning",variant:"flat",onPress:()=>window.history.back(),isDisabled:E,children:"Cancel"})]})]})]})]})}export{K as default};
